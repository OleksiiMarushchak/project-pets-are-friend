{"version":3,"file":"index.js","sources":["../src/javaScript/header.js","../src/javaScript/petsList.js","../src/javaScript/footer.js"],"sourcesContent":["// scripts for the header section\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    const menu = document.querySelector('[data-menu]');\n    const openBtn = document.querySelector('[data-header-menu-open]');\n    const closeBtn = document.querySelector('[data-header-menu-close]');\n    const menuLinks = document.querySelectorAll('[data-menu-close]');\n\n    // Open menu\n    openBtn.addEventListener('click', () => {\n        menu.classList.add('active');\n        document.body.style.overflow = 'hidden'; // Prevent scrolling\n    });\n\n    // Close menu\n    closeBtn.addEventListener('click', () => {\n        closeMenu();\n    });\n\n    // Close on link click\n    menuLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            closeMenu();\n        });\n    });\n\n    // Close on click outside\n    menu.addEventListener('click', (e) => {\n        if (e.target === menu) {\n            closeMenu();\n        }\n    });\n\n\n    function closeMenu() {\n        menu.classList.remove('active');\n        document.body.style.overflow = '';\n    }\n\n});\n\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// VARIABLE----\n\nconst categoriesList = document.querySelector('.js-pet-list-categories');\nconst petsListCards = document.querySelector('.js-pets-list-cards');\nconst showMoreBtn = document.querySelector('.js-showmore-btn');\nconst loaderElem = document.querySelector('.js-loader');\n\nlet ALLPETS = [];\nlet displayedCount = 0;\nlet currentPets = [];\n\n// FETCHES----\n\nasync function getPetsCategorie() {\n  try {\n    const res = await axios.get('https://paw-hut.b.goit.study/api/categories');\n\n    const categories = res.data;\n\n    renderCategories(categories);\n  } catch (err) {\n    iziToast.error({\n      title: '–ü–æ–º–∏–ª–∫–∞',\n      message: err.response?.data?.message || '–ù–µ–º–æ–∂–ª–∏–≤–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ',\n    });\n  }\n}\n\nasync function getPetsList() {\n  try {\n    const res = await axios.get('https://paw-hut.b.goit.study/api/animals', {\n      params: {\n        page: 1,\n        limit: 30,\n      },\n    });\n\n    ALLPETS = res.data.animals;\n    currentPets = ALLPETS;\n\n    renderPetsList(ALLPETS);\n  } catch (err) {\n    iziToast.error({\n      title: '–ü–æ–º–∏–ª–∫–∞',\n      message: err.response?.data?.message || '–ù–µ–º–æ–∂–ª–∏–≤–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –¥–∞–Ω—ñ',\n    });\n  }\n}\n\n// RENDERS----\nfunction renderCategories(categories) {\n  const allButton = `<li class=\"pets-list-categories-item\">\n      <button class=\"category-btn active\" type=\"button\" data-name=\"all\">–í—Å—ñ</button>\n    </li>`;\n  const markup = categories.map(renderCategorie).join('');\n  categoriesList.innerHTML = allButton + markup;\n}\n\nfunction renderCategorie(category) {\n  return `<li>\n        <button class=\"category-btn\" type=\"button\" data-category=\"${category._id}\" data-name=\"${category.name}\">\n          ${category.name}\n        </button>\n      </li>`;\n}\n\nfunction getRenderLimit() {\n  return window.innerWidth >= 1440 ? 9 : 8;\n}\n\nfunction renderPetsList(pets) {\n  petsListCards.innerHTML = '';\n  displayedCount = 0;\n\n  const limit = getRenderLimit();\n  const petsToRender = pets.slice(0, limit);\n\n  if (!petsToRender.length) {\n    petsListCards.innerHTML =\n      '<p>–ù–∞–∂–∞–ª—å –Ω–∞—Ä–∞–∑—ñ –Ω–µ –º–∞—î –¥–æ—Å—Ç—É–ø–Ω–∏—Ö —Ö–∞—Ç–Ω—ñ—Ö —Ç–≤–∞—Ä–∏–Ω–æ–∫ üòû </p>';\n    hideShowBtn();\n    return;\n  }\n\n  const markup = petsToRender.map(createPetCard).join('');\n  petsListCards.insertAdjacentHTML('afterbegin', markup);\n\n  displayedCount = petsToRender.length;\n  if (displayedCount >= pets.length) {\n    hideShowBtn();\n  } else {\n    checkShowBtn();\n  }\n}\n\nfunction createPetCard(pet) {\n  return `<li class=\"petlist-pet-card\" data-id=\"${pet._id}\">\n      <img\n        class=\"pet-image\"\n        src=\"${pet.image || 'images/placeholder.jpg'}\"\n        alt=\"${pet.name}\"\n        loading=\"lazy\"\n      >\n\n      <div class=\"petlist-pet-content\">\n        <div class=\"petlist-pet-content-about\">\n        <p class=\"petlist-pet-breed\">${pet.species}</p>\n            \n            <h3 class=\"petlist-card-tag\">${pet.name}</h3>\n\n            <ul class=\"petlist-pet-categories\">\n    ${\n      pet.categories && pet.categories.length\n        ? pet.categories\n            .map(cat => `<li class=\"petlist-pet-category\">${cat.name}</li>`)\n            .join('')\n        : '<li class=\"petlist-pet-category\">No category</li>'\n    }\n  </ul>\n            </div>\n    \n            <ul class=\"petlist-pet-meta\">\n              <li class=\"petlist-pet-meta-item\">${pet.gender}</li>\n              <li class=\"petlist-pet-meta-item\">${pet.age}</li>\n            </ul>\n        </div>\n\n        <p class=\"petlist-pet-description\">\n          ${pet.shortDescription}\n        </p>\n\n        <button class=\"pet-more-btn js-pet-more-btn\" type=\"button\">–î—ñ–∑–Ω–∞—Ç–∏—Å—è –±—ñ–ª—å—à–µ</button>\n      </div>\n    </li>`;\n}\n\nfunction renderMorePets(petArr) {\n  const limit = getRenderLimit();\n  const nextPart = petArr.slice(displayedCount, displayedCount + limit);\n\n  if (nextPart.length === 0) {\n    hideShowBtn();\n    return;\n  }\n\n  const markup = nextPart.map(createPetCard).join('');\n  petsListCards.insertAdjacentHTML('beforeend', markup);\n\n  displayedCount += nextPart.length;\n  checkShowBtn();\n}\n\n// EVENTS----\n\ndocument.addEventListener('DOMContentLoaded', async () => {\n  await Promise.all([getPetsList(), getPetsCategorie()]);\n  hideLoader();\n});\n\ncategoriesList.addEventListener('click', async e => {\n  e.preventDefault();\n\n  const button = e.target.closest('button.category-btn');\n  if (!button || !categoriesList.contains(button)) return;\n\n  showLoader();\n  petsListCards.innerHTML = '';\n  await new Promise(resolve => setTimeout(resolve, 300));\n\n  const selectedCategoryName = button.dataset.name;\n  currentPets = filterPetsByCategory(selectedCategoryName);\n\n  renderPetsList(currentPets);\n\n  categoriesList\n    .querySelectorAll('.category-btn')\n    .forEach(btn => btn.classList.remove('active'));\n  button.classList.add('active');\n  hideLoader();\n});\n\nwindow.addEventListener('resize', () => {\n  renderPetsList(currentPets.slice(0, displayedCount || getRenderLimit()));\n});\n\nshowMoreBtn.addEventListener('click', () => {\n  renderMorePets(currentPets);\n});\n\npetsListCards.addEventListener('click', e => {\n  const btn = e.target.closest('.js-pet-more-btn');\n  if (!btn) return;\n\n  const card = btn.closest('.petlist-pet-card');\n  const petId = card.dataset.id;\n\n  console.log('–î—ñ–∑–Ω–∞—Ç–∏—Å—è –±—ñ–ª—å—à–µ', petId);\n});\n\n// FUNCTIONAL----\nfunction filterPetsByCategory(categoryName) {\n  if (categoryName === 'all') return ALLPETS;\n  return ALLPETS.filter(pet =>\n    pet.categories?.some(pet => pet && pet.name === categoryName)\n  );\n}\n\nfunction hideLoader() {\n  loaderElem.classList.add('hidden');\n  checkShowBtn();\n}\n\nfunction showLoader() {\n  loaderElem.classList.remove('hidden');\n  hideShowBtn();\n}\n\nfunction checkShowBtn() {\n  if (displayedCount < currentPets.length) {\n    showMoreBtn.classList.remove('hidden');\n  } else {\n    showMoreBtn.classList.add('hidden');\n  }\n}\n\nfunction hideShowBtn() {\n  showMoreBtn.classList.add('hidden');\n}\n","'use strict';\nconst scrollToTop = document.querySelector('.scroll-to-top');\nwindow.addEventListener('scroll', function () {\n  window.scrollY > 300\n    ? scrollToTop.classList.add('visible')\n    : scrollToTop.classList.remove('visible');\n});\nscrollToTop.addEventListener('click', () => {\n  window.scrollTo({ top: 0, behavior: 'smooth' });\n});\n"],"names":["menu","openBtn","closeBtn","menuLinks","closeMenu","link","e","categoriesList","petsListCards","showMoreBtn","loaderElem","ALLPETS","displayedCount","currentPets","getPetsCategorie","categories","axios","renderCategories","err","iziToast","_b","_a","getPetsList","renderPetsList","allButton","markup","renderCategorie","category","getRenderLimit","pets","limit","petsToRender","hideShowBtn","createPetCard","checkShowBtn","pet","cat","renderMorePets","petArr","nextPart","hideLoader","button","showLoader","resolve","selectedCategoryName","filterPetsByCategory","btn","petId","categoryName","scrollToTop"],"mappings":"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"}